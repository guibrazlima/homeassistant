#############################################
# ğŸ“¦ Package: Piscina - Cobertura (LLM Vision)
# ğŸ¯ Objetivo: Detetar estado da cobertura da piscina via anÃ¡lise de imagem
# ğŸ“‚ LocalizaÃ§Ã£o: /config/packages/piscina_cobertura.yaml
# ğŸ”— DependÃªncias:
#    - LLM Vision custom component
#    - Provider: 01K5S60RJSW6MFMB543KEDHE23 (gpt-4o-mini)
#    - camera.eira_piscina_hd_stream
#    - switch.bomba_piscina_switch_0
#    - input_boolean.piscina_cobertura_fechada
# ğŸ“… Ãšltima atualizaÃ§Ã£o: 2025-11-11
#############################################

# âš ï¸ NOTA: As automaÃ§Ãµes deste package foram movidas para automations.yaml
#    para permitir ediÃ§Ã£o via GUI. Este ficheiro contÃ©m apenas:
#    - input_boolean, input_number, template sensors, etc.
#    Ver: automations.yaml (procurar por '# Package: piscina_cobertura.yaml')
#
template:
- binary_sensor:
  - name: piscina_cobertura_fechada_ai
    unique_id: piscina_cobertura_fechada_ai
    state: '{{ is_state(''input_boolean.piscina_cobertura_fechada'', ''on'') }}'
    attributes:
      description: Estado da cobertura inferido por LLM Vision a partir de camera.piscina;
        true=fechada, false=aberta.
      source_entity: input_boolean.piscina_cobertura_fechada
      analyzer: 'llmvision.data_analyzer (modelo: gpt-4o-mini)'
      last_updated_by: automaÃ§Ã£o piscina_llmvision_cobertura
